# 全体設計の総合評価（Vue / React / Svelte）

## 評価の前提

README.en.md に明記された目的・非目的に基づき評価する。

- 本サンプルは「フロントエンドをアプリケーションとして設計する」ための教材であり、再利用性や流行アーキテクチャの主張は目的ではない
- フレームワーク比較は目的ではない
- アプリの規模や性質によっては、この分離が過剰になりうる

---

## 観察事項（検証済み）

- 3つのUIはすべて `@todo-example/front` の型・関数を利用している
- ドメインロジックは front 側に集約され、UI側は store/コンポーネントが中心
- UIの見た目はVue版に合わせ、React/Svelteにも同様のCSSが個別実装されている
- URL同期はVue/Reactではルータ経由、Svelteでは `history.replaceState` と `popstate` を手動で処理
- UI側のテストは実装されていない（front側にはテストが存在）

---

## 総合評価

### 評価できる点

1. **目的に対して設計が一貫している**
   - 「UIは描画と同期、frontは知識と振る舞い」という境界が3実装で共通している
   - Fat Component を避けるための判断基準がコードとして示されている

2. **ドメイン知識が固定され、説明可能性が高い**
   - フィルタ中D&Dの順序計算やセクション分離など、複雑な仕様が front に固定されている
   - UIが薄いことを実装で示せており、教材として説得力がある

3. **フレームワーク変更の局所化が示せている**
   - UI側の変更が front に波及しにくく、変更範囲が限定される構成になっている
   - これは README.en.md の「UI変更が front テストに影響しない」主張と整合する

---

### 批判すべき点

1. **UI側の橋渡し実装が意図的に複製されている**
   - 3つのUIで同じ橋渡しを書き、分離が成立していることを確認するという目的に沿っている
   - 評価の観点は「重複コスト」ではなく、同一の分離設計が成立することを示せているかにある

2. **URL同期の実装が分散している**
   - Vue/React/Svelteで異なる実装になっており、挙動差の発生リスクがある
   - front の責務を強調する設計意図に対して、UI側での個別対応が目立つ

3. **UI層の検証不足が残る**
   - front のテストだけでは、URL同期やD&Dイベントの統合不具合を拾えない
   - 「UIは薄い」という主張を強めるには、最小限のUI統合テストがあると説得力が上がる

4. **front に表示寄りのモデルが含まれる**
   - DisplayTask や TaskListView は UI で使いやすい形に整形されたモデルであり、純粋なドメインとは異なる
   - これは「フロントエンドのドメイン」という主張に合致するが、境界の説明が必要になる

---

### トレードオフ整理

- **分離の明確さ vs 実装コスト（実務適用時）**
  - 本サンプルでは検証のために意図的に複数UIを実装している
  - 実務では「フレームワーク乗り換え」「メジャーアップデート対応」が必要かどうかが、分離投資の回収判断になる

- **教育的価値 vs 実務的効率**
  - 教材としては「意図を固定する」効果が高い
  - 実務では「フレームワーク移行・メジャーアップデート対応」の有無が効果を左右する

---

### フレームワーク移行・メジャーアップデート観点の評価

- **評価できる点**
  - front 側の仕様ロジックとテストは影響を受けにくく、移行時に再実装・再検証の範囲が限定される
  - UI層は差し替え対象が明確で、影響範囲を見積もりやすい

- **批判すべき点**
  - store/URL同期/イベント連携はフレームワークのAPI変更に直結し、移行の主要コストになる
  - UIとfrontの境界が説明できていないと、移行時に「どこまでがドメインか」が再び曖昧になりやすい

---

## 結論

- **評価できる結論**: README.en.md が掲げる目的（境界の可視化、Fat Component回避、UIとドメインの分離）に対し、実装は正面から応えている。3UIが同一ロジックに従うことで、意図が具体的な成果として確認できる。
- **批判すべき結論**: 一方で、UI側の重複とURL同期の分散は、設計意図と相反する印象を与えかねない。教材としての明快さを優先するなら、分散している理由を明文化する必要がある。

総じて、このサンプルは「分離の価値とコストの両方を示せる」という点で目的に合致している。ただし、実務への一般化は慎重に扱うべきであり、README.en.md の「適用範囲の限定」という姿勢は妥当である。

---

## Assumption

- 現状の評価は、UIテスト未実装・CSS分散・URL同期差分を前提としている。共有スタイルや共通URL同期層を導入する場合、評価は変わりうる。
